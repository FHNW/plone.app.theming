#  Here is a list of scenarios and tests that we want to implement:
# https://raw.github.com/gist/3885011/8cd3e5141c12270757a667ce3812319f8c507cb6/gistfile1.txt

*** Settings ***

Library  Selenium2Library  run_on_failure=Capture Page Screenshot
Variables  plone/app/testing/interfaces.py
Variables  plone/app/theming/tests/acceptance/variables.py

Suite Setup  Start browser
Suite Teardown  Close All Browsers


*** Test Cases ***

Scenario: Preview theme
    Given a logged-in admin user
     And a Plone site with no theme applied
    When I navigate to the "Theming" control panel
     And I click on the "Example theme" theme preview
    Then a preview of "Example theme" is shown in a new window


*** Keywords ***

Start browser
    Open browser  ${PLONE_URL}/plone/

a logged-in admin user
    Go to  ${PLONE_URL}/login_form
    Input text  __ac_name  ${SITE_OWNER_NAME}
    Input text  __ac_password  ${SITE_OWNER_PASSWORD}
    Click Button  Log in

a Plone site with no theme applied
    Go to  ${PLONE_URL}

I navigate to the "Theming" control panel
    Go to  ${PLONE_URL}/@@theming-controlpanel

I click on the "Example theme" theme preview
    Click Link  xpath=//div[@data-theme-title='Example theme']//a

a preview of "Example theme" is shown in a new window
#    Select Window  title='Preview: Example theme'
    Page should contain  Plone site
